OCFL OBJECT VALIDATION REPORT
Object ID: obj-033
Validation Status: INVALID
Report Generated: 2025-11-09

========================================
VALIDATION ERROR SUMMARY
========================================

The OCFL object validation failed with the following error:
- Error Code: E092
- Error Message: Missing content: v1/content/bonus.txt
- Location: /workspace/objects/obj-033

========================================
DETAILED ANALYSIS
========================================

1. INVENTORY DISCREPANCY:
   The inventory.json file (both root and v1 versions) declares that the manifest
   contains two files with the same SHA512 digest:
   - Digest: 24f950aac7b9ea9b3cb728228a0c82b67c39e96b4b344798870d5daee93e3ae5931baae8c7cacfea4b629452c38026a81d138bc7aad1af3ef7bfd5ec646d6c28
   - Declared paths: v1/content/test.txt, v1/content/bonus.txt

2. ACTUAL FILE STRUCTURE:
   The actual content directory contains only:
   - v1/content/test.txt (8 bytes, contains "testing\n")
   - bonus.txt is MISSING

3. VERSION STATE MISMATCH:
   The v1 version state only lists "test.txt" but the manifest references both
   test.txt and bonus.txt with the same digest. This is internally inconsistent.

4. FIXITY METADATA ISSUE:
   The inventory declares MD5 fixity values for both files:
   - Digest: eb1a3227cdc3fedbaec2fe38bf6c044a
   - References: v1/content/test.txt, v1/content/bonus.txt
   Since bonus.txt doesn't exist, fixity validation cannot occur.

========================================
ROOT CAUSES
========================================

1. Missing Content File:
   The file 'v1/content/bonus.txt' is referenced in the manifest but does not
   exist on the filesystem. This violates OCFL specification requirement E092
   (missing content validation).

2. Inventory Corruption:
   The inventory.json files have been modified or were incorrectly created with
   references to files that were never added to the object.

3. Incomplete Version State:
   The v1 version state claims only "test.txt" exists, but the manifest section
   references both test.txt and bonus.txt, creating an inconsistency.

========================================
RECOMMENDED STEPS FOR FIXING
========================================

Option 1: REMOVE THE INVALID REFERENCE (Recommended if bonus.txt should not exist)
   1. Edit /workspace/objects/obj-033/inventory.json
   2. Remove "v1/content/bonus.txt" from the manifest entry
      (line 10 in the manifest array)
   3. Keep only "v1/content/test.txt" for the digest
   4. Edit /workspace/objects/obj-033/v1/inventory.json with the same changes
   5. Recalculate SHA512 checksums for inventory.json files
   6. Update inventory.json.sha512 files with new checksums
   7. Remove fixity references to bonus.txt (lines 31-32)
   8. Run validation again

Option 2: ADD THE MISSING FILE (Recommended if bonus.txt should exist)
   1. Determine the content that should be in bonus.txt
   2. Create the file: /workspace/objects/obj-033/v1/content/bonus.txt
   3. Ensure the file content produces the correct SHA512 digest
   4. Verify MD5 fixity value matches: eb1a3227cdc3fedbaec2fe38bf6c044a
   5. Run validation again

Option 3: REBUILD THE OBJECT (If unsure of original state)
   1. Delete /workspace/objects/obj-033
   2. Create a new OCFL object with correct metadata
   3. Add only the files that should exist
   4. Generate proper inventory with accurate manifests and states

========================================
COMPLIANCE ISSUES
========================================

- OCFL Spec Violation: E092 (missing content validation)
- Inventory Integrity: Compromised - manifest does not match filesystem
- Fixity Tracking: Cannot validate due to missing content
- Version State: Inconsistent between manifest and version state

========================================
