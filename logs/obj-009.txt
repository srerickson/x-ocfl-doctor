OCFL OBJECT VALIDATION REPORT
=============================
Object ID: obj-009
Object Path: /workspace/objects/obj-009
Validation Status: INVALID
Validation Date: 2025-11-09

VALIDATION ERRORS SUMMARY
=========================

The OCFL object failed validation with the following errors:

1. INVALID TIMESTAMP FORMAT (E049)
   - Error: Failed to parse created timestamp in version 'v1'
   - Current Value: "2019-01-01T01:02Z"
   - Expected Format: RFC3339 format with timezone offset (e.g., "2019-01-01T01:02:00Z07:00")
   - Location: inventory.json > versions > v1 > created

2. MISSING REQUIRED FIELD (E048)
   - Error: Version v1 is missing required field 'created'
   - Note: This is a secondary error resulting from the parsing failure above

DETAILED ANALYSIS
=================

Object Structure:
- Object Type: OCFL 1.1 compliant
- Digest Algorithm: SHA512
- Head Version: v1
- Content Files: 1 file (a_file.txt)

Current inventory.json Content:
{
  "digestAlgorithm": "sha512",
  "head": "v1",
  "id": "info:a/b/cde-1",
  "type": "https://ocfl.io/1.1/spec/#inventory",
  "manifest": {
    "43a43fe8a...": ["v1/content/a_file.txt"]
  },
  "versions": {
    "v1": {
      "created": "2019-01-01T01:02Z",  <-- INVALID FORMAT
      "state": {...},
      "message": "A log message",
      "user": {...}
    }
  }
}

Root Cause:
The 'created' timestamp in the version v1 uses an abbreviated ISO 8601 format
("2019-01-01T01:02Z") which is not compliant with OCFL 1.1 specification.
The OCFL specification requires RFC3339 format with complete timestamp including
seconds and timezone offset notation.

File Verification:
- Content File: a_file.txt
- Calculated SHA512: 43a43fe8a8a082d3b5343dfaf2fd0c8b8e370675b1f376e92e9994612c33ea255b11298269d72f797399ebb94edeefe53df243643676548f584fb8603ca53a0f
- Manifest Reference: MATCHES (digest is correct)
- Status: File integrity is valid

RECOMMENDED FIXES
=================

Step 1: Correct the Timestamp Format
   Action: Update the 'created' field in inventory.json
   Change From: "2019-01-01T01:02Z"
   Change To: "2019-01-01T01:02:00Z" (with seconds)
             OR
             "2019-01-01T01:02:00+00:00" (explicit timezone offset)

   The timezone 'Z' suffix represents UTC (Coordinated Universal Time) and
   is the preferred format per RFC3339.

Step 2: Update the Root inventory.json.sha512 Checksum
   After modifying inventory.json, you must recalculate its SHA512 digest:
   $ cd /workspace/objects/obj-009
   $ sha512sum inventory.json > inventory.json.sha512

   Current checksum: 188c5d4cafaff3504c9355e3e34b9e9bde4c986a6e5ee63821ab225dac708d0cbd85a3cc529ed6d0672332db574123cdf22e620b5a6f697e15041c9854b1b21d

Step 3: Verify the Fix
   Run validation again:
   $ ocfl validate --object=/workspace/objects/obj-009

   Expected output: "object is valid"

IMPLEMENTATION NOTES
====================

- The file content (a_file.txt) is valid and correctly referenced
- The manifest digest is correct
- All other inventory.json fields appear to be properly formatted
- The only issue is the timestamp format in the created field
- The v1 and v1/content directories exist with proper structure
- The 0=ocfl_object_1.1 declaration file is present

OCFL SPECIFICATION REFERENCE
============================

Per OCFL 1.1 Specification:
- The 'created' field MUST be an RFC 3339 timestamp
- RFC 3339 requires: YYYY-MM-DDTHH:MM:SSZ or YYYY-MM-DDTHH:MM:SSÂ±HH:MM
- Abbreviated format without seconds is NOT valid
- The 'Z' suffix is valid and represents UTC timezone

RFC 3339 Examples (Valid):
- "2019-01-01T01:02:00Z"
- "2019-01-01T01:02:00+00:00"
- "2019-01-01T01:02:00-05:00"
