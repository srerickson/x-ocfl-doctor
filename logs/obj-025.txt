OCFL Object Validation Report: obj-025
=====================================
Validation Status: INVALID
Date: 2025-11-09

VALIDATION ERRORS SUMMARY
=========================

1. ERROR E107: Digest in manifest not used in version state
   - Issue: A digest found in the manifest is not used in any version state
   - Digest: 24f950aac7b9ea9b3cb728228a0c82b67c39e96b4b344798870d5daee93e3ae5931baae8c7cacfea4b629452c38026a81d138bc7aad1af3ef7bfd5ec646d6c28
   - Manifest entry: "v1/content/test.txt"

2. ERROR E050: Digest in version state not in manifest
   - Issue: A digest found in the version state is not present in the manifest
   - Digest: 24F950AAC7B9EA9B3CB728228A0C82B67C39E96B4B344798870D5DAEE93E3AE5931BAAE8C7CACFEA4B629452C38026A81D138BC7AAD1AF3EF7BFD5EC646D6C28
   - Version state entry: v1 contains "test.txt"

DETAILED ANALYSIS
=================

The object contains a CASE SENSITIVITY MISMATCH in the inventory.json file:

In the manifest (line 8):
  "24f950aac7b9ea9b3cb728228a0c82b67c39e96b4b344798870d5daee93e3ae5931baae8c7cacfea4b629452c38026a81d138bc7aad1af3ef7bfd5ec646d6c28"
  (lowercase hex digest)

In the v1 version state (line 16):
  "24F950AAC7B9EA9B3CB728228A0C82B67C39E96B4B344798870D5DAEE93E3AE5931BAAE8C7CACFEA4B629452C38026A81D138BC7AAD1AF3EF7BFD5EC646D6C28"
  (uppercase hex digest)

These are cryptographically the same digest value but are represented in different cases
(lowercase vs uppercase hexadecimal). The OCFL validator treats these as distinct strings
and considers them different digests, which violates the specification.

OCFL Specification Requirements
================================

According to the OCFL 1.1 specification:
- Digest values must be consistently represented using the same case throughout the inventory.json
- All digests referencing the same content must use identical string representations
- The manifest and version states must reference the same set of digests

FILE STRUCTURE
==============

Object location: /workspace/objects/obj-025/
Object version: v1
Digest algorithm: sha512
Content directory: content

Files in the object:
  - inventory.json (root)
  - inventory.json.sha512
  - 0=ocfl_object_1.1
  - v1/inventory.json
  - v1/inventory.json.sha512
  - v1/content/test.txt

RECOMMENDED FIXES
=================

To fix this object and make it valid, follow these steps:

SOLUTION: Standardize digest case representation

Option 1 (Recommended - Use lowercase):
  1. Open /workspace/objects/obj-025/inventory.json
  2. Locate line 16 in the v1 version state
  3. Replace the uppercase digest:
     "24F950AAC7B9EA9B3CB728228A0C82B67C39E96B4B344798870D5DAEE93E3AE5931BAAE8C7CACFEA4B629452C38026A81D138BC7AAD1AF3EF7BFD5EC646D6C28"
     with the lowercase version:
     "24f950aac7b9ea9b3cb728228a0c82b67c39e96b4b344798870d5daee93e3ae5931baae8c7cacfea4b629452c38026a81d138bc7aad1af3ef7bfd5ec646d6c28"
  4. Recalculate the SHA512 hash of the updated inventory.json
  5. Update both inventory.json.sha512 files (root and v1 level) with the new hash

Option 2 (Use uppercase):
  1. Open /workspace/objects/obj-025/inventory.json
  2. Replace the lowercase digest in the manifest (line 8) with uppercase
  3. Recalculate and update all inventory.json.sha512 files

VALIDATION COMMANDS
====================

After making the fix, validate the object with:
  ocfl validate --object=/workspace/objects/obj-025

The object should then pass validation without errors.

ROOT CAUSE SUMMARY
==================

This is a data integrity issue caused by inconsistent digest representation. While both
digests represent the same file content, the OCFL specification requires strict
consistency in how digests are represented within the inventory structure to ensure
unambiguous parsing and validation of the object.
