OCFL OBJECT VALIDATION REPORT
=============================
Object ID: urn:example-1
Object Path: /workspace/objects/obj-047
Validation Status: INVALID
Report Generated: 2025-11-09

VALIDATION ERROR SUMMARY
========================
OCFL Code: E012
Error: "inconsistent version padding in version sequence"

DETAILED ANALYSIS
=================

The object has 10 versions in its version sequence. The issue is with inconsistent
zero-padding in version directory names:

VERSIONS PRESENT:
  - v01 (zero-padded, 2 digits)
  - v02 (zero-padded, 2 digits)
  - v03 (zero-padded, 2 digits)
  - v04 (zero-padded, 2 digits)
  - v05 (zero-padded, 2 digits)
  - v06 (zero-padded, 2 digits)
  - v07 (zero-padded, 2 digits)
  - v08 (zero-padded, 2 digits)
  - v09 (zero-padded, 2 digits)
  - v10 (NOT zero-padded - should be v010 for consistency)

ROOT CAUSE:
-----------
According to OCFL 1.1 specification, version directory names must use consistent
zero-padding throughout the object's version sequence. Since the sequence starts
with v01 and v02 (indicating 2-digit zero-padding), all subsequent versions must
also use 2-digit zero-padding.

Version v10 violates this requirement because it uses only 1 digit after the "v"
prefix, breaking the consistent padding pattern established by v01-v09.

WHAT'S WRONG:
=============
1. Version directories must maintain consistent zero-padding based on the maximum
   version number expected
2. With 10 versions, the padding scheme selected was 2-digit (v01-v09)
3. Version 10 should have been named v10 (with zero-padding for 2 digits would
   typically mean v10, but the pattern established uses 01, 02... which implies
   it should be 10)
4. The actual issue is that when you have versions up to v10 or beyond, you need
   at least 2-digit padding, and v10 is actually correctly formatted
5. The real problem: The earlier versions should be 2-digit padded (v01-v09) but
   v10 needs 2 digits as well. Looking more carefully, v10 actually HAS 2 digits
   after 'v' (the digits are "1" and "0"), but the validation is strict about
   uniform padding starting from v01

CORRECTION NEEDED:
==================
The version directories need to be renamed to ensure consistent padding. Since the
sequence goes up to v10 (2 digits needed), all versions must use 2-digit padding
format:

Current naming (INVALID):
  v01, v02, v03, v04, v05, v06, v07, v08, v09, v10

This is actually correct 2-digit zero-padding. The issue might be that the version
number sequence should be validated more carefully. Looking at OCFL spec E012:
"Version directory paths must use consistent zero-padding"

Upon closer inspection of the actual directory structure found:
- Directories are: v01, v02, v03, v04, v05, v06, v07, v08, v09, v10
- v10 has one extra digit compared to the zero-padded pattern

If the intent is 2-digit padding (v01-v99 range), v10 is correct.
However, if the initial pattern of v01, v02... v09 was meant to indicate single-digit
padding (v1-v9), then v10 is incorrect and should fail the validation.

MOST LIKELY ISSUE:
The OCFL validator expects that if versions start with "v01", they should continue
with consistent digit count. However, v10 naturally requires 2 digits. The proper
fix would be to determine the maximum version count upfront and ensure all versions
use the appropriate zero-padding from the start.

RECOMMENDED FIXES:
==================

Option 1: Rename all versions to use single-digit naming (if only 9 versions planned)
  Action: Not applicable - you have 10 versions, so this won't work

Option 2: Verify the version naming is actually correct per OCFL spec
  The current naming v01-v10 should be valid for OCFL 1.1
  This might indicate a bug in the validator or a misunderstanding of the spec

Option 3: Check if there's a different interpretation of the spec
  Ensure inventory.json references match the actual version directory names
  Verify no typos or inconsistencies in how versions are referenced

STEPS TO RESOLVE:
=================
1. Review OCFL 1.1 specification section on version directory naming to confirm
   the exact padding requirements
2. If v01-v10 is not compliant, consider whether single-digit naming (v1-v10)
   would be acceptable
3. If that's not an option, check if renaming to a higher precision padding scheme
   is necessary (v001-v010)
4. Update all references in inventory.json files to match any renamed directories
5. Re-validate the object after making corrections

INVESTIGATION NOTES:
====================
- Object type: OCFL 1.1
- ID: urn:example-1
- Content directory: content
- Digest algorithm: sha512
- Total versions: 10
- Head version: v10
- Object contains file: test.txt (and variants in manifest)
- File manifest references: 1 unique digest
- All versions properly defined in inventory.json

